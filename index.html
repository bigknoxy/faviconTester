<!DOCTYPE html>
<html>
<head>
	<title>Example HTML Page</title>
	<link rel="icon" href="favicon.ico">
</head>
<body>
	<input type="file" id="file-input" multiple>
	<div id="preview"></div>

	<script type="text/javascript">
		var fileInput = document.getElementById("file-input");
		var preview = document.getElementById("preview");

		fileInput.addEventListener("change", function() {
			while (preview.firstChild) {
				preview.removeChild(preview.firstChild);
			}

			var files = fileInput.files;
			for (var i = 0; i < files.length; i++) {
				var file = files[i];
				if (!file.type.startsWith("image/")) {
					continue;
				}

				var reader = new FileReader();
				reader.onload = function(event) {
					var dataUri = event.target.result;
					var link = document.querySelector("link[rel='icon']");
					link.href = dataUri;
				};
				reader.readAsDataURL(file);
			}
		});
	</script>
</body>
</html>
